<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What the Package Does (One Line, Title Case) • ausflora</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (One Line, Title Case)">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ausflora</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="ausflora-">ausflora <img src="inst/figures/ausflora_hex2.png" align="right" width="120"><a class="anchor" aria-label="anchor" href="#ausflora-"></a>
</h1></div>
<p>A R package for aligning and updating taxonomic names from the <a href="https://biodiversity.org.au/nsl/services/search/taxonomy" class="external-link">Australian Plant Census (APC)</a></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>ausflora</code> relies on another R package <code>datastorr</code>, both of which are currently available from <a href="https://github.com/traitecoevo/ausflora" class="external-link">GitHub</a> only. You can install both these packages with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"traitecoevo/datastorr"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"traitecoevo/ausflora"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ausflora</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="a-quick-demo">A quick demo<a class="anchor" aria-label="anchor" href="#a-quick-demo"></a>
</h2>
<p>First, we will retrieve the current <a href="https://github.com/traitecoevo/ausflora/releases/tag/0.0.0.9000" class="external-link">release of APC names</a>. The <code>dataset_access_function</code> saves the download in a local, temporary folder.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dataset_access_function.html">dataset_access_function</a></span><span class="op">(</span><span class="st">"0.0.0.9000"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tmp</span></span>
<span><span class="co">#&gt; $APC</span></span>
<span><span class="co">#&gt; # A tibble: 100,835 × 34</span></span>
<span><span class="co">#&gt;    taxonID       nameT…¹ accep…² accep…³ nomen…⁴ taxon…⁵ proPa…⁶ scien…⁷ scien…⁸</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 https://id.b… scient… https:… Planta… &lt;NA&gt;    accept… FALSE   Planta… https:…</span></span>
<span><span class="co">#&gt;  2 https://id.b… scient… https:… Charop… &lt;NA&gt;    orthog… FALSE   Charac… https:…</span></span>
<span><span class="co">#&gt;  3 https://id.b… scient… https:… Charop… &lt;NA&gt;    accept… FALSE   Charop… https:…</span></span>
<span><span class="co">#&gt;  4 https://id.b… scient… https:… Equise… &lt;NA&gt;    orthog… FALSE   Equise… https:…</span></span>
<span><span class="co">#&gt;  5 https://id.b… scient… https:… Equise… &lt;NA&gt;    accept… FALSE   Equise… https:…</span></span>
<span><span class="co">#&gt;  6 https://id.b… scient… https:… Equise… &lt;NA&gt;    taxono… FALSE   Spheno… https:…</span></span>
<span><span class="co">#&gt;  7 https://id.b… scient… https:… Cycadi… &lt;NA&gt;    accept… FALSE   Cycadi… https:…</span></span>
<span><span class="co">#&gt;  8 https://id.b… scient… https:… Cycada… &lt;NA&gt;    taxono… FALSE   Zamiin… https:…</span></span>
<span><span class="co">#&gt;  9 https://id.b… scient… https:… Cycada… &lt;NA&gt;    accept… FALSE   Cycada… https:…</span></span>
<span><span class="co">#&gt; 10 https://id.b… scient… https:… Cycada… &lt;NA&gt;    taxono… FALSE   Stange… https:…</span></span>
<span><span class="co">#&gt; # … with 100,825 more rows, 25 more variables: canonicalName &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   scientificNameAuthorship &lt;chr&gt;, parentNameUsageID &lt;chr&gt;, taxonRank &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   taxonRankSortOrder &lt;dbl&gt;, kingdom &lt;chr&gt;, class &lt;chr&gt;, subclass &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   family &lt;chr&gt;, created &lt;dttm&gt;, modified &lt;dttm&gt;, datasetName &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   taxonConceptID &lt;chr&gt;, nameAccordingTo &lt;chr&gt;, nameAccordingToID &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   taxonRemarks &lt;chr&gt;, taxonDistribution &lt;chr&gt;, higherClassification &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   firstHybridParentName &lt;chr&gt;, firstHybridParentNameID &lt;chr&gt;, …</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $APNI</span></span>
<span><span class="co">#&gt; # A tibble: 154,302 × 42</span></span>
<span><span class="co">#&gt;    scientificN…¹ scien…² canon…³ canon…⁴ nameE…⁵ scien…⁶ nameT…⁷ taxon…⁸ nomen…⁹</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 Aaron's Beard &lt;commo… Aaron'… &lt;commo… Aaron'… https:… common  unplac… [n/a]  </span></span>
<span><span class="co">#&gt;  2 Aaron's Rod   &lt;commo… Aaron'… &lt;commo… Aaron'… https:… common  unplac… [n/a]  </span></span>
<span><span class="co">#&gt;  3 Abacopteris … &lt;scien… Abacop… &lt;scien… Abacop… https:… scient… includ… &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  4 Abacopteris … &lt;scien… Abacop… &lt;scien… Abacop… https:… scient… unplac… nom. i…</span></span>
<span><span class="co">#&gt;  5 Abacopteris … &lt;scien… Abacop… &lt;scien… aspera  https:… scient… includ… &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  6 Abacopteris … &lt;scien… Abacop… &lt;scien… presli… https:… scient… unplac… &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  7 Abacopteris … &lt;scien… Abacop… &lt;scien… triphy… https:… scient… includ… &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  8 Abarema Pitt… &lt;scien… Abarema &lt;scien… Abarema https:… scient… unplac… &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  9 Abarema clyp… &lt;scien… Abarem… &lt;scien… praini… https:… scient… unplac… nom. i…</span></span>
<span><span class="co">#&gt; 10 Abarema gran… &lt;scien… Abarem… &lt;scien… grandi… https:… scient… includ… &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; # … with 154,292 more rows, 33 more variables: scientificNameAuthorship &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   cultivarEpithet &lt;chr&gt;, autonym &lt;lgl&gt;, hybrid &lt;lgl&gt;, cultivar &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   formula &lt;lgl&gt;, scientific &lt;lgl&gt;, nomInval &lt;lgl&gt;, nomIlleg &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   namePublishedIn &lt;chr&gt;, namePublishedInYear &lt;dbl&gt;, nameInstanceType &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   originalNameUsage &lt;chr&gt;, originalNameUsageID &lt;chr&gt;, typeCitation &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   kingdom &lt;chr&gt;, family &lt;chr&gt;, genericName &lt;chr&gt;, specificEpithet &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   infraspecificEpithet &lt;chr&gt;, taxonRank &lt;chr&gt;, taxonRankSortOrder &lt;dbl&gt;, …</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</span></span></code></pre></div>
<p>Now we will load a toy plant species list and try align it with the APC species names.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#remotes::install_packages("readr")</span></span>
<span><span class="va">species_list</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"species.csv"</span>, package <span class="op">=</span> <span class="st">"ausflora"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">species_list</span></span>
<span><span class="co">#&gt; # A tibble: 199 × 1</span></span>
<span><span class="co">#&gt;    name                       </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                      </span></span>
<span><span class="co">#&gt;  1 Eucalyptus tectifica       </span></span>
<span><span class="co">#&gt;  2 Eulalia aurea              </span></span>
<span><span class="co">#&gt;  3 Triodia bitextura          </span></span>
<span><span class="co">#&gt;  4 Terminalia canescens       </span></span>
<span><span class="co">#&gt;  5 Annual forb                </span></span>
<span><span class="co">#&gt;  6 Erythrophleum chlorostachys</span></span>
<span><span class="co">#&gt;  7 Schizachyrium fragile      </span></span>
<span><span class="co">#&gt;  8 Acacia hemsleyi            </span></span>
<span><span class="co">#&gt;  9 Eriachne obtusa            </span></span>
<span><span class="co">#&gt; 10 Corchorus sidoides         </span></span>
<span><span class="co">#&gt; # … with 189 more rows</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<div class="section level3">
<h3 id="align-away">Align away!<a class="anchor" aria-label="anchor" href="#align-away"></a>
</h3>
<p><code>align_taxa</code> will try match the species names in our list to those listed in the APC. You can specify a file path and file name using the argument <code>output</code> to save this aligned data</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aligned_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/align_taxa.html">align_taxa</a></span><span class="op">(</span><span class="va">species_list</span><span class="op">$</span><span class="va">name</span>, output <span class="op">=</span> <span class="st">"taxonomic_updates.csv"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Checking alignments of 199 taxa</span></span>
<span><span class="co">#&gt;   - reading existing data from taxonomic_updates.csv</span></span>
<span><span class="co">#&gt;   - all taxa are already checked, yay!</span></span>
<span></span>
<span><span class="va">aligned_data</span></span>
<span><span class="co">#&gt; # A tibble: 199 × 7</span></span>
<span><span class="co">#&gt;    original_name                 cleaned_…¹ align…² source known checked strip…³</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                         &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;  &lt;lgl&gt; &lt;lgl&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 Annual forb                   Annual fo… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    annual…</span></span>
<span><span class="co">#&gt;  2 Tephrosia sp. macarthur river Tephrosia… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    tephro…</span></span>
<span><span class="co">#&gt;  3 No id                         No id      &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    no id  </span></span>
<span><span class="co">#&gt;  4 Sorghum sp.                   Sorghum s… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    sorghu…</span></span>
<span><span class="co">#&gt;  5 Tephrosia sp.                 Tephrosia… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    tephro…</span></span>
<span><span class="co">#&gt;  6 Corymbia sp.                  Corymbia … &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    corymb…</span></span>
<span><span class="co">#&gt;  7 Alphitonia sp.                Alphitoni… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    alphit…</span></span>
<span><span class="co">#&gt;  8 Poaceae sp.                   Poaceae s… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    poacea…</span></span>
<span><span class="co">#&gt;  9 Pultenaea sp.                 Pultenaea… &lt;NA&gt;    &lt;NA&gt;   FALSE TRUE    pulten…</span></span>
<span><span class="co">#&gt; 10 Eucalyptus tectifica          Eucalyptu… Eucaly… APC l… TRUE  TRUE    eucaly…</span></span>
<span><span class="co">#&gt; # … with 189 more rows, and abbreviated variable names ¹​cleaned_name,</span></span>
<span><span class="co">#&gt; #   ²​aligned_name, ³​stripped_name</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="update-taxonomic-names">Update taxonomic names<a class="anchor" aria-label="anchor" href="#update-taxonomic-names"></a>
</h3>
<p>Once alignment is complete we can update our species names, replacing synonyms to current APC names. Note that this function drops the observations where names cannot be aligned. Again, this updated species list can be saved using the <code>output</code> argument.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aligned_species_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/update_taxonomy.html">update_taxonomy</a></span><span class="op">(</span><span class="va">aligned_data</span><span class="op">$</span><span class="va">aligned_name</span><span class="op">)</span></span>
<span><span class="co">#&gt; loading object `taxonomic_resources` into global environment</span></span></code></pre></div>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ausflora</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Daniel Falster <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0002-9814-092X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Daniel Falster.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
